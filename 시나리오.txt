# 시나리오 수립
사용자 관점에서 서비스 시나리오를 정의하고, 핵심적인 서비스 시나리오의 입출력과 성공 기준을 수립합니다.

### 핵심 사용자 시나리오

**시나리오 1 : 다중 웹서버 설정 조회 및 통합 보안 진단**

* ID : [SC-001]

* 상황 : 운영 중인 여러 대의 웹서버(Apache) 설정 파일을 일괄 조회하고, 보안 취약점 및 성능 개선점을 파악하고자 할 때 사용

* 목표 : SSH 접속을 통해 웹서버 설정 파일을 자동으로 수집하고, AI를 통해 통합 보안 진단 리포트를 획득함

* 사전 조건 : 
  1. 진단 대상 웹서버의 IP, 계정, 비밀번호 정보 확보
  2. Azure OpenAI API 키 및 엔드포인트 설정 완료

* 상세 흐름

|    |        |        |    |
| -- | ------ | ------ | -- |
| 단계 | 사용자 행동 | 시스템 동작 | 비고 |
| 1  | [웹서버 진단] 메뉴에서 서버 정보(IP, ID, PW) 입력 후 [추가] 버튼 클릭 (여러 대 가능) | 입력된 서버 정보를 목록에 추가하여 화면에 표시함 | |
| 2  | [설정 조회] 버튼 클릭 | 각 서버에 SSH로 접속하여 httpd 프로세스 확인, 설정 파일 위치 파악, Include된 모든 설정 파일 내용을 재귀적으로 수집함 | 실패 시 오류 메시지 표시 |
| 3  | 조회 결과 화면에서 각 서버별 설정 파일 목록 확인 (접기/펼치기) | 수집된 설정 파일 목록과 내용을 확장 가능한 UI로 제공함 | |
| 4  | 상단의 [🚀 모든 서버 통합 진단 실행] 버튼 클릭 | 수집된 모든 서버의 설정 파일 내용을 AI(Azure OpenAI)에 전송하여 분석 요청함 | |
| 5  | 분석 완료 대기 후 결과 확인 | AI가 분석한 보안 취약점, 성능 개선점, 모범 사례 위반 사항을 마크다운 형태의 리포트로 제공함 | |

* 입력 예시

- 서버 1: 192.168.1.10, webadmin, password123
- 서버 2: 192.168.1.11, webadmin, password123

* 기대 출력

- 서버별 설정 파일 목록(httpd.conf, ssl.conf 등) 및 파일 내용 조회 가능
- "전체 통합 진단 결과" 영역에 한국어로 작성된 AI 분석 리포트 출력 (취약점 목록, 구체적인 설정 수정 가이드 포함)

* 성공 기준

  * 기준 1: 입력한 모든 서버의 설정 파일이 누락 없이 조회되어야 함

  * 기준 2: AI 분석 결과가 한국어로 출력되며, 구체적인 파일명과 설정 라인을 지적하여 개선안을 제시해야 함

**시나리오 2 : AI 진단 프롬프트 커스터마이징**

* ID : [SC-002]

* 상황 : 조직 내부의 보안 정책이나 특정 감사 기준(예: ISMS-P)에 맞춰 AI의 진단 기준을 변경하고 싶을 때 사용

* 목표 : 시스템 프롬프트와 사용자 프롬프트를 수정하여 AI의 분석 관점과 출력 형식을 실시간으로 변경함

* 사전 조건 : [웹서버 진단] 페이지에 접속된 상태

* 상세 흐름

|    |        |        |    |
| -- | ------ | ------ | -- |
| 단계 | 사용자 행동 | 시스템 동작 | 비고 |
| 1  | [⚙️ AI Prompt Settings] 섹션을 클릭하여 설정창 확장 | 감춰져 있던 시스템 프롬프트와 사용자 프롬프트 입력란을 표시함 | |
| 2  | 시스템 프롬프트 내용을 수정 (예: "ISMS-P 인증 기준에 맞춰 점검해줘") | 수정된 내용을 입력받음 (별도 저장 버튼 없이 진단 시점에 반영됨) | |
| 3  | [🚀 모든 서버 통합 진단 실행] 버튼 클릭 | 수정된 프롬프트 내용과 설정 파일 내용을 함께 AI에게 전송함 | |

* 입력 예시

- 시스템 프롬프트 변경: "당신은 금융권 보안 감사자입니다. 전자금융감독규정을 기준으로 분석하세요."

* 기대 출력

- AI 분석 결과가 변경된 페르소나(금융권 보안 감사자)와 기준(전자금융감독규정)에 맞춰 출력됨

* 성공 기준

  * 기준 1: 수정된 프롬프트 내용이 AI 분석 요청에 정확히 반영되어야 함

  * 기준 2: 분석 결과의 어조나 관점이 변경된 프롬프트에 따라 달라져야 함

### 시나리오 우선순위 매트릭스

|        |              |              |         |
| ------ | ------------ | ------------ | ------- |
| 시나리오   | 비즈니스 가치      | 구현 난이도       | PoC 포함  |
| SC-001 | 높음         | 중간          | 네      |
| SC-002 | 중간         | 낮음          | 네      |
|        |              |              |         |
